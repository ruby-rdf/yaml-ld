<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: YAML_LD::API
  
    &mdash; JSON-LD reader/writer for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "YAML_LD::API";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../YAML_LD.html" title="YAML_LD (module)">YAML_LD</a></span></span>
     &raquo; 
    <span class="title">API</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: YAML_LD::API
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">JSON::LD::API</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">JSON::LD::API</li>
          
            <li class="next">YAML_LD::API</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/yaml_ld/api.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A YAML-LD processor based on JSON-LD.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.w3.org/TR/json-ld11-api/#the-application-programming-interface" target="_parent" title="https://www.w3.org/TR/json-ld11-api/#the-application-programming-interface">https://www.w3.org/TR/json-ld11-api/#the-application-programming-interface</a></li>
    
  </ul>
<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p><a href="http://greggkellogg.net/">Gregg Kellogg</a></p>
</div>
      
    </li>
  
</ul>

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="LINK_REL_CONTEXT-constant" class="">LINK_REL_CONTEXT =
          <div class="docstring">
  <div class="discussion">
    
<p>The following constants are used to reduce object allocations</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>rel</span><span class='words_sep'> </span><span class='tstring_content'>http://www.w3.org/ns/yaml-ld#context</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="LINK_REL_ALTERNATE-constant" class="">LINK_REL_ALTERNATE =
          
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>rel</span><span class='words_sep'> </span><span class='tstring_content'>alternate</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
        <dt id="LINK_TYPE_JSONLD-constant" class="">LINK_TYPE_JSONLD =
          
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>type</span><span class='words_sep'> </span><span class='tstring_content'>application/ld+yaml</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compact-class_method" title="compact (class method)">.<strong>compact</strong>(input, context, expanded: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld| ... } &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compacts the given input according to the steps in the Compaction Algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#documentLoader-class_method" title="documentLoader (class method)">.<strong>documentLoader</strong>(url, extractAllScripts: false, profile: nil, requestProfile: nil, **options) {|remote_document| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Default document loader for YAML_LD.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand-class_method" title="expand (class method)">.<strong>expand</strong>(input, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld, RDF::URI| ... } &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Expands the given input according to the steps in the Expansion Algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flatten-class_method" title="flatten (class method)">.<strong>flatten</strong>(input, context, expanded: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld| ... } &#x21d2; Object, Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This algorithm flattens an expanded YAML-LD document by collecting all properties of a node in a single object and labeling all blank nodes with blank node identifiers.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#frame-class_method" title="frame (class method)">.<strong>frame</strong>(input, frame, expanded: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld| ... } &#x21d2; Object, Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Frames the given input using the frame according to the steps in the Framing Algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fromRdf-class_method" title="fromRdf (class method)">.<strong>fromRdf</strong>(input, useRdfType: false, useNativeTypes: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|jsonld| ... } &#x21d2; Object, Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Take an ordered list of RDF::Statements and turn them into a JSON-LD document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#serializer-class_method" title="serializer (class method)">.<strong>serializer</strong>(object, *args, **options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The default serializer for serialzing Ruby Objects to JSON.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#toRdf-class_method" title="toRdf (class method)">.<strong>toRdf</strong>(input, expanded: false, documentLoader: self.method(:documentLoader), **options) {|statement| ... } &#x21d2; RDF::Enumerable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Processes the input according to the RDF Conversion Algorithm, calling the provided callback for each triple generated.</p>
</div></span>
  
</li>

      
    </ul>
  


  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="compact-class_method">
  
    .<strong>compact</strong>(input, context, expanded: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld| ... } &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Compacts the given input according to the steps in the Compaction Algorithm. The input must be copied, compacted and returned if there are no errors. If the compaction fails, an appropirate exception must be thrown.</p>

<p>If no context is provided, the input document is compacted using the top-level context of the document</p>

<p>The resulting <code>Hash</code> is either returned or yielded, if a block is given.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The YAML-LD object to copy and perform the expansion upon.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>, <tt>JSON::LD::Context</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The base context to use when compacting the input.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>serializer</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.method(:serializer)</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(nil) A Serializer method used for generating the YAML serialization of the result. If absent, the internal Ruby objects are returned, which can be transformed to YAML externally via <code>#to_yaml</code>. See <span class='object_link'><a href="#serializer-class_method" title="YAML_LD::API.serializer (method)">serializer</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>expanded</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(false) Input is already expanded</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>YAML_LD</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>yamlld</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The expanded YAML-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returned YAML serialization</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If a block is given, the result of evaluating the block is returned, otherwise, the expanded YAML-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>JsonLdError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.w3.org/TR/json-ld11-api/#compaction-algorithm" target="_parent" title="https://www.w3.org/TR/json-ld11-api/#compaction-algorithm">https://www.w3.org/TR/json-ld11-api/#compaction-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83
84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 80</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='kw'>false</span><span class='comma'>,</span>
                 <span class='label'>documentLoader:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:documentLoader</span><span class='rparen'>)</span><span class='comma'>,</span>
                 <span class='label'>serializer:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:serializer</span><span class='rparen'>)</span><span class='comma'>,</span>
                 <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                 <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='op'>::</span><span class='const'>LD</span><span class='op'>::</span><span class='const'>API</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='id identifier rubyid_expanded'>expanded</span><span class='comma'>,</span>
                       <span class='label'>documentLoader:</span> <span class='id identifier rubyid_documentLoader'>documentLoader</span><span class='comma'>,</span> 
                       <span class='label'>serializer:</span> <span class='id identifier rubyid_serializer'>serializer</span><span class='comma'>,</span>
                       <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                       <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="documentLoader-class_method">
  
    .<strong>documentLoader</strong>(url, extractAllScripts: false, profile: nil, requestProfile: nil, **options) {|remote_document| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Default document loader for YAML_LD.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>url</span>
      
      
        <span class='type'>(<tt>RDF::URI</tt>, <tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>extractAllScripts</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>If set to <code>true</code>, when extracting JSON-LD script elements from HTML, unless a specific fragment identifier is targeted, extracts all encountered JSON-LD script elements using an array form, if necessary.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profile</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>When the resulting <code>contentType</code> is <code>text/html</code> or <code>application/xhtml+xml</code>, this option determines the profile to use for selecting a JSON-LD script elements.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>requestProfile</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>One or more IRIs to use in the request as a profile parameter.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash&lt;Symbol =&gt; Object&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>remote_document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>remote_document</span>
      
      
        <span class='type'>(<tt>RemoteDocument</tt>, <tt>RDF::Util::File::RemoteDocument</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>IOError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 239</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_documentLoader'>documentLoader</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='label'>extractAllScripts:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>profile:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>requestProfile:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:read</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:base</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>||=</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_base_uri'>base_uri</span> <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:base_uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:content_type</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>||=</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span> <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:content_type</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_context_url'>context_url</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:links</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>&amp;&amp;</span>
      <span class='comment'># Any JSON type other than ld+json
</span>      <span class='lparen'>(</span><span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/json</span><span class='tstring_end'>&#39;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_content_type'>content_type</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r(</span><span class='tstring_content'>application/(^ld)+json</span><span class='regexp_end'>)</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span><span class='period'>.</span><span class='id identifier rubyid_find_link'>find_link</span><span class='lparen'>(</span><span class='const'>JSON</span><span class='op'>::</span><span class='const'>LD</span><span class='op'>::</span><span class='const'>API</span><span class='op'>::</span><span class='const'>LINK_REL_CONTEXT</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_link'>link</span><span class='period'>.</span><span class='id identifier rubyid_href'>href</span> <span class='kw'>if</span> <span class='id identifier rubyid_link'>link</span>
    <span class='kw'>elsif</span>  <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:links</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>&amp;&amp;</span>
      <span class='comment'># Any YAML type
</span>      <span class='id identifier rubyid_content_type'>content_type</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r(</span><span class='tstring_content'>application/(\w+\+)*yaml</span><span class='regexp_end'>)</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span><span class='period'>.</span><span class='id identifier rubyid_find_link'>find_link</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#LINK_REL_CONTEXT-constant" title="YAML_LD::API::LINK_REL_CONTEXT (constant)">LINK_REL_CONTEXT</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_link'>link</span><span class='period'>.</span><span class='id identifier rubyid_href'>href</span> <span class='kw'>if</span> <span class='id identifier rubyid_link'>link</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_content'>content</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_content_type'>content_type</span>
    <span class='kw'>when</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>%r(</span><span class='tstring_content'>application/(\w+\+)*yaml</span><span class='regexp_end'>)</span></span>
      <span class='comment'># Parse YAML
</span>      <span class='const'>Psych</span><span class='period'>.</span><span class='id identifier rubyid_safe_load'>safe_load</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='comma'>,</span> <span class='label'>aliases:</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='const'>RemoteDocument</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_content'>content</span><span class='comma'>,</span>
      <span class='label'>documentUrl:</span> <span class='id identifier rubyid_base_uri'>base_uri</span><span class='comma'>,</span>
      <span class='label'>contentType:</span> <span class='id identifier rubyid_content_type'>content_type</span><span class='comma'>,</span>
      <span class='label'>contextUrl:</span> <span class='id identifier rubyid_context_url'>context_url</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.yaml\w*$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_content_type'>content_type</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r(</span><span class='tstring_content'>application/(\w+\+)*yaml</span><span class='regexp_end'>)</span></span><span class='rparen'>)</span>
    <span class='comment'># Parse YAML
</span>    <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='const'>RemoteDocument</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>Psych</span><span class='period'>.</span><span class='id identifier rubyid_load_file'>load_file</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='label'>aliases:</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>documentUrl:</span> <span class='id identifier rubyid_base_uri'>base_uri</span><span class='comma'>,</span>
      <span class='label'>contentType:</span> <span class='id identifier rubyid_content_type'>content_type</span><span class='comma'>,</span>
      <span class='label'>contextUrl:</span> <span class='id identifier rubyid_context_url'>context_url</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'>RDF</span><span class='op'>::</span><span class='const'>Util</span><span class='op'>::</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open_file'>open_file</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand-class_method">
  
    .<strong>expand</strong>(input, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld, RDF::URI| ... } &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Expands the given input according to the steps in the Expansion Algorithm. The input must be copied, expanded and returned if there are no errors. If the expansion fails, an appropriate exception must be thrown.</p>

<p>The resulting <code>Array</code> either returned or yielded</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The YAML-LD object to copy and perform the expansion upon.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>documentLoader</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.method(:documentLoader)</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The callback of the loader to be used to retrieve remote documents and contexts, and to parse IO objects. If specified, it must be used to retrieve remote documents and contexts; otherwise, if not specified, the processor’s built-in loader must be used. See <span class='object_link'><a href="#documentLoader-class_method" title="YAML_LD::API.documentLoader (method)">documentLoader</a></span> for the method signature. The remote document returned must be parsed if it is YAML.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>serializer</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.method(:serializer)</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(nil) A Serializer method used for generating the YAML serialization of the result. If absent, the internal Ruby objects are returned, which can be transformed to YAML externally via <code>#to_yaml</code>. See <span class='object_link'><a href="#serializer-class_method" title="YAML_LD::API.serializer (method)">serializer</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>YAML_LD, base_iri</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>yamlld</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The expanded YAML-LD document</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>RDF::URI</span>
      
      
        <span class='type'>(<tt>RDF::URI
The document base as determined during expansion</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The document base as determined during expansion</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returned YAML serialization</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If a block is given, the result of evaluating the block is returned, otherwise, the expanded YAML-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>JsonLdError</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.w3.org/TR/json-ld11-api/#expansion-algorithm" target="_parent" title="https://www.w3.org/TR/json-ld11-api/#expansion-algorithm">https://www.w3.org/TR/json-ld11-api/#expansion-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45
46
47
48
49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 43</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span>
                <span class='label'>documentLoader:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:documentLoader</span><span class='rparen'>)</span><span class='comma'>,</span>
                <span class='label'>serializer:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:serializer</span><span class='rparen'>)</span><span class='comma'>,</span>
                <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='op'>::</span><span class='const'>LD</span><span class='op'>::</span><span class='const'>API</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span>
                       <span class='label'>documentLoader:</span> <span class='id identifier rubyid_documentLoader'>documentLoader</span><span class='comma'>,</span> 
                       <span class='label'>serializer:</span> <span class='id identifier rubyid_serializer'>serializer</span><span class='comma'>,</span>
                       <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                       <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flatten-class_method">
  
    .<strong>flatten</strong>(input, context, expanded: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld| ... } &#x21d2; <tt>Object</tt>, <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This algorithm flattens an expanded YAML-LD document by collecting all properties of a node in a single object and labeling all blank nodes with blank node identifiers. This resulting uniform shape of the document, may drastically simplify the code required to process YAML-LD data in certain applications.</p>

<p>The resulting <code>Array</code> is either returned, or yielded if a block is given.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The YAML-LD object or array of JSON-LD objects to flatten or an IRI referencing the JSON-LD document to flatten.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>, <tt>JSON::LD::EvaluationContext</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An optional external context to use additionally to the context embedded in input when expanding the input.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>expanded</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(false) Input is already expanded</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>serializer</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.method(:serializer)</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(nil) A Serializer method used for generating the YAML serialization of the result. If absent, the internal Ruby objects are returned, which can be transformed to YAML externally via <code>#to_yaml</code>. See <span class='object_link'><a href="#serializer-class_method" title="YAML_LD::API.serializer (method)">serializer</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>**options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:createAnnotations</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Unfold embedded nodes which can be represented using <code>@annotation</code>.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>YAML_LD</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>yamlld</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The expanded YAML-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returned YAML serialization</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If a block is given, the result of evaluating the block is returned, otherwise, the flattened JSON-LD document</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.w3.org/TR/json-ld11-api/#framing-algorithm" target="_parent" title="https://www.w3.org/TR/json-ld11-api/#framing-algorithm">https://www.w3.org/TR/json-ld11-api/#framing-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 116</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='kw'>false</span><span class='comma'>,</span>
                 <span class='label'>documentLoader:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:documentLoader</span><span class='rparen'>)</span><span class='comma'>,</span>
                 <span class='label'>serializer:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:serializer</span><span class='rparen'>)</span><span class='comma'>,</span>
                 <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                 <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='op'>::</span><span class='const'>LD</span><span class='op'>::</span><span class='const'>API</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='id identifier rubyid_expanded'>expanded</span><span class='comma'>,</span>
                        <span class='label'>documentLoader:</span> <span class='id identifier rubyid_documentLoader'>documentLoader</span><span class='comma'>,</span> 
                        <span class='label'>serializer:</span> <span class='id identifier rubyid_serializer'>serializer</span><span class='comma'>,</span>
                        <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                        <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="frame-class_method">
  
    .<strong>frame</strong>(input, frame, expanded: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|yamlld| ... } &#x21d2; <tt>Object</tt>, <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Frames the given input using the frame according to the steps in the Framing Algorithm. The input is used to build the framed output and is returned if there are no errors. If there are no matches for the frame, null must be returned. Exceptions must be thrown if there are errors.</p>

<p>The resulting <code>Array</code> is either returned, or yielded if a block is given.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The YAML-LD object or array of YAML-LD objects to flatten or an IRI referencing the JSON-LD document to flatten.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>frame</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The frame to use when re-arranging the data.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>expanded</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(false) Input is already expanded</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a customizable set of options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>**options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:embed</span>
          <span class="type">(<tt>'@always'</tt>, <tt>'@link'</tt>, <tt>'@once'</tt>, <tt>'@never'</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>&#39;@once&#39;</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>a flag specifying that objects should be directly embedded in the output, instead of being referred to by their IRI.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:explicit</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>a flag specifying that for properties to be included in the output, they must be explicitly declared in the framing context.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:requireAll</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>A flag specifying that all properties present in the input frame must either have a default value or be present in the JSON-LD input for the frame to match.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:omitDefault</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>a flag specifying that properties that are missing from the JSON-LD input should be omitted from the output.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:pruneBlankNodeIdentifiers</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>removes blank node identifiers that are only used once.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:omitGraph</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>does not use <code>@graph</code> at top level unless necessary to describe multiple objects, defaults to <code>true</code> if processingMode is 1.1, otherwise <code>false</code>.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>YAML_LD</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>yamlld</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The expanded YAML-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returned YAML serialization</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If a block is given, the result of evaluating the block is returned, otherwise, the framed JSON-LD document</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>InvalidFrame</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://www.w3.org/TR/json-ld11-api/#framing-algorithm" target="_parent" title="https://www.w3.org/TR/json-ld11-api/#framing-algorithm">https://www.w3.org/TR/json-ld11-api/#framing-algorithm</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163
164
165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 157</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='kw'>false</span><span class='comma'>,</span>
               <span class='label'>documentLoader:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:documentLoader</span><span class='rparen'>)</span><span class='comma'>,</span>
               <span class='label'>serializer:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:serializer</span><span class='rparen'>)</span><span class='comma'>,</span>
               <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
               <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='op'>::</span><span class='const'>LD</span><span class='op'>::</span><span class='const'>API</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='id identifier rubyid_expanded'>expanded</span><span class='comma'>,</span>
                      <span class='label'>documentLoader:</span> <span class='id identifier rubyid_documentLoader'>documentLoader</span><span class='comma'>,</span> 
                      <span class='label'>serializer:</span> <span class='id identifier rubyid_serializer'>serializer</span><span class='comma'>,</span>
                      <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                      <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fromRdf-class_method">
  
    .<strong>fromRdf</strong>(input, useRdfType: false, useNativeTypes: false, documentLoader: self.method(:documentLoader), serializer: self.method(:serializer), **options) {|jsonld| ... } &#x21d2; <tt>Object</tt>, <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Take an ordered list of RDF::Statements and turn them into a JSON-LD document.</p>

<p>The resulting <code>Array</code> is either returned or yielded, if a block is given.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>RDF::Enumerable</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>useRdfType</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(false) If set to <code>true</code>, the JSON-LD processor will treat <code>rdf:type</code> like a normal property instead of using <code>@type</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>useNativeTypes</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(false) use native representations</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>serializer</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>self.method(:serializer)</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(nil) A Serializer method used for generating the YAML serialization of the result. If absent, the internal Ruby objects are returned, which can be transformed to YAML externally via <code>#to_yaml</code>. See <span class='object_link'><a href="#serializer-class_method" title="YAML_LD::API.serializer (method)">serializer</a></span>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>jsonld</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>jsonld</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The JSON-LD document in expanded form</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returned object</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If a block is given, the result of evaluating the block is returned, otherwise, the expanded JSON-LD document</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214
215
216
217
218
219
220
221
222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 212</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_fromRdf'>fromRdf</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='label'>useRdfType:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>useNativeTypes:</span> <span class='kw'>false</span><span class='comma'>,</span>
                 <span class='label'>documentLoader:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:documentLoader</span><span class='rparen'>)</span><span class='comma'>,</span>
                 <span class='label'>serializer:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:serializer</span><span class='rparen'>)</span><span class='comma'>,</span>
                 <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                 <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='op'>::</span><span class='const'>LD</span><span class='op'>::</span><span class='const'>API</span><span class='period'>.</span><span class='id identifier rubyid_fromRdf'>fromRdf</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span>
                        <span class='label'>useRdfType:</span> <span class='id identifier rubyid_useRdfType'>useRdfType</span><span class='comma'>,</span>
                        <span class='label'>useNativeTypes:</span> <span class='id identifier rubyid_useNativeTypes'>useNativeTypes</span><span class='comma'>,</span>
                        <span class='label'>documentLoader:</span> <span class='id identifier rubyid_documentLoader'>documentLoader</span><span class='comma'>,</span> 
                        <span class='label'>serializer:</span> <span class='id identifier rubyid_serializer'>serializer</span><span class='comma'>,</span>
                        <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                        <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="serializer-class_method">
  
    .<strong>serializer</strong>(object, *args, **options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The default serializer for serialzing Ruby Objects to JSON.</p>

<p>Defaults to <code>MultiJson.dump</code></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>object</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Array&lt;Object&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>other arguments that may be passed for some specific implementation.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash&lt;Symbol, Object&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>options passed from the invoking context.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 289</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_serializer'>serializer</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='comment'># de-alias any objects to avoid the use of aliases and anchors
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%YAML 1.2\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='const'>Psych</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="toRdf-class_method">
  
    .<strong>toRdf</strong>(input, expanded: false, documentLoader: self.method(:documentLoader), **options) {|statement| ... } &#x21d2; <tt>RDF::Enumerable</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Processes the input according to the RDF Conversion Algorithm, calling the provided callback for each triple generated.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>, <tt>Hash</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The YAML-LD object to process when outputting statements.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>expanded</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(false) Input is already expanded</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a customizable set of options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>**options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:produceGeneralizedRdf</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>If true, output will include statements having blank node predicates, otherwise they are dropped.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>statement</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>statement</span>
      
      
        <span class='type'>(<tt>RDF::Statement</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>RDF::Enumerable</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>set of statements, unless a block is given.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>JsonLdError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184
185
186
187
188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/yaml_ld/api.rb', line 182</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_toRdf'>toRdf</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='kw'>false</span><span class='comma'>,</span>
               <span class='label'>documentLoader:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:documentLoader</span><span class='rparen'>)</span><span class='comma'>,</span>
               <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
               <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'>JSON</span><span class='op'>::</span><span class='const'>LD</span><span class='op'>::</span><span class='const'>API</span><span class='period'>.</span><span class='id identifier rubyid_toRdf'>toRdf</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='label'>expanded:</span> <span class='id identifier rubyid_expanded'>expanded</span><span class='comma'>,</span>
                      <span class='label'>documentLoader:</span> <span class='id identifier rubyid_documentLoader'>documentLoader</span><span class='comma'>,</span> 
                      <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span>
                      <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Aug  4 22:32:39 2022 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.2).
</div>

    </div>
  </body>
</html>